title: 小程序 自定义组件
date: 2018/10/30
categories:
- 前端
- 小程序
tags:
- 小程序
comments: true
---

#### 自定义组件
1. 头像图片未加载成功之前显示占位图，利用bingload方法
```
<!--profile.wxml-->
<view class='v-h-center'>
    <image class="{{isFinishLoad ?'':'before-load'}}" bindtap='_event' src='{{imgSrc}}' bindload='finishLoad' />
</view>

<!--profile.js-->
finishLoad: function(){
    this.setData({
        isFinishLoad: true
    });
}

<!--profile.wxss-->
.before-load {
    margin-right: 40rpx;
    margin-left: 24rpx;
    width: 64rpx;
    height: 64rpx;
    border-radius: 50%;
    border: 1rpx solid #a7a7a7;
    background-color: #EEE;
}
```
2. 点击头象，通知触发父组件事件
```
<!--profile.js-->
_event: function(e){
    this.triggerEvent('XXX') 
}

<!--引用组件的页面.wxml-->
<profile bindXXX='xxx'  imgSrc='{{xxx}}' data-xx="{{xxx}}" />
```




欢迎大家给我留言，提建议，指出错误，一起讨论学习技术的感受！
